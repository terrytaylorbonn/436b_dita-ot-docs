<!DOCTYPE html
  SYSTEM "about:legacy-compat">
<html lang="en"><head><meta charset="UTF-8"><meta name="copyright" content="(C) Copyright 2025"><meta name="generator" content="DITA-OT"><meta name="description" content="The conref step resolves content references, processing only the DITA maps or topics that use the conref attribute. This step is implemented in XSLT."><title>Resolve content references (conref)</title><link rel="stylesheet" type="text/css" href="../css/dita-ot-doc.css"></head><body id="preprocess-conref"><main role="main"><article role="article" aria-labelledby="ariaid-title1">
  <h1 class="title topictitle1" id="ariaid-title1">Resolve content references (<code class="ph codeph">conref</code>)</h1>
  
  
  <div class="body conbody"><p class="shortdesc">The <code class="ph codeph">conref</code> step resolves content references, processing only the DITA maps or topics that
    use the <code class="keyword markupname xmlatt">@conref</code> attribute. This step is implemented in XSLT.</p>
    <section class="section">
      <p class="p">The values of the <code class="keyword markupname xmlatt">@id</code> attribute on referenced content are changed as the elements are pulled
        into the new locations. This ensures that the values of the <code class="keyword markupname xmlatt">@id</code> attribute within the referencing
        topic remain unique.</p>
      <div class="p">If an element is pulled into a new context along with a cross reference that references the target, both the
        values of the <code class="keyword markupname xmlatt">@id</code> and <code class="keyword markupname xmlatt">@xref</code> attributes are updated so that they remain valid in
        the new location. For example, a referenced topic might include a section as in the following example: <figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 1. </span>Referenced topic that contains a section and cross reference</figcaption>
          
          <pre class="pre codeblock language-xml normalize-space show-line-numbers show-whitespace"><code>&lt;topic id="referenced_topic"&gt;
  &lt;title&gt;...&lt;/title&gt;
  &lt;body&gt;
    &lt;section id="sect"&gt;
      &lt;title&gt;Sample section&lt;/title&gt;
      &lt;p&gt;Figure &lt;xref href="#referenced_topic/fig"/&gt; 
        contains a code sample that demonstrates ... .&lt;/p&gt;
      &lt;fig id="fig"&gt;
        &lt;title&gt;Code sample&lt;/title&gt;
        &lt;codeblock&gt;....&lt;/codeblock&gt;
      &lt;/fig&gt;
    &lt;/section&gt;
  &lt;/body&gt;
&lt;/topic&gt;</code></pre>
        </figure></div>
      <div class="p">When the section is referenced using a <code class="keyword markupname xmlatt">@conref</code> attribute, the value of the <code class="keyword markupname xmlatt">@id</code>
        attribute on the <code class="keyword markupname xmlelement">&lt;fig&gt;</code> element is modified to ensure that it remains unique in the new
        context. At the same time, the <code class="keyword markupname xmlelement">&lt;xref&gt;</code> element is also modified so that it remains valid
        as a local reference. For example, if the referencing topic has an <code class="keyword markupname xmlatt">@id</code> set to "new_topic", then
        the conrefed element may look like this in the intermediate document <code class="keyword markupname xmlelement">&lt;section&gt;</code>. <figure class="fig fignone"><figcaption><span class="fig--title-label">Figure 2. </span>Resolved conrefed <code class="keyword markupname xmlelement">&lt;section&gt;</code> element after the conref step</figcaption>
          
          <pre class="pre codeblock language-xml normalize-space show-line-numbers show-whitespace"><code>&lt;section id="sect"&gt;
  &lt;title&gt;Sample section&lt;/title&gt;
  &lt;p&gt;Figure &lt;xref href="#new_topic/d1e25"/&gt; contains a code sample
    that demonstrates ... .&lt;/p&gt;
  &lt;fig id="d1e25"&gt;
    &lt;title&gt;Code sample&lt;/title&gt;
    &lt;codeblock&gt;....&lt;/codeblock&gt;
  &lt;/fig&gt;
&lt;/section&gt;</code></pre>
        </figure></div>
      <p class="p">In this case, the value of the <code class="keyword markupname xmlatt">@id</code> attribute on the <code class="keyword markupname xmlelement">&lt;fig&gt;</code> element has
        been changed to a generated value of "d1e25". At the same time, the <code class="keyword markupname xmlelement">&lt;xref&gt;</code> element has
        been updated to use that new generated ID, so that the cross reference remains valid.</p>
    </section>
  </div>
<nav role="navigation" class="related-links"><div class="familylinks"><div class="parentlink"><strong>Parent topic:</strong> <a class="link" href="preprocessing.html" title="The pre-processing operation is a set of steps that typically runs at the beginning of every DITA-OT transformation. Each step or stage corresponds to an Ant target in the build pipeline; the preprocess target calls the entire set of steps.">Pre-processing modules</a></div><div class="previouslink"><strong>Previous topic:</strong> <a class="link" href="preprocess-conrefpush.html" title="The conrefpush step resolves “conref push” references to render the content of the referencing element before, after, or in place of the referenced element. This step only processes documents that use conref push or that are updated due to the push action. This step is implemented in Java.">Conref push (conrefpush)</a></div><div class="nextlink"><strong>Next topic:</strong> <a class="link" href="preprocess-profile.html" title="The profile step removes content from topics and maps based on the rules in DITAVAL files or the print attribute setting. Output can differ based on when filtering is done.">Filter conditional content (profile)</a></div></div></nav></article></main></body></html>